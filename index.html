<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö—É–ª—å—Ç –•–∞–æ—Å–∞</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=Noto+Serif:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
    
    <style>
        /* --- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –∏ —Ñ–æ–Ω --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background-image: url('static/background.png');
            background-size: cover;
            background-position: center center;
            background-attachment: fixed;
            font-family: 'Noto Serif', serif;
            color: #f0e6d2;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
            position: relative; /* Added for d20 positioning */
        }

        /* --- D20 Dice Styles --- */
        .d20-container {
            position: absolute;
            top: 13%;
            left: 49%;
            width: 85px; /* Adjust size as needed */
            height: 85px; /* Adjust size as needed */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999; /* Ensure it's above other content */
            cursor: pointer;
            animation: rotate 15s linear infinite;
        }

        .d20-dice {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: opacity 0.3s ease-in-out;
        }

        .d20-glow {
            position: absolute;
            width: 150%;
            height: 150%;
            background: radial-gradient(circle, rgba(255, 223, 150, 0.6) 0%, rgba(255, 223, 150, 0) 70%);
            border-radius: 50%;
            opacity: 0;
            transform: scale(0);
            transition: all 0.5s ease-out;
        }

        .d20-glow.active {
            opacity: 1;
            transform: scale(1);
            animation: d20-radiate-glow 0.8s ease-out forwards;
        }

        .dice-result {
            position: absolute;
            font-family: 'Cinzel Decorative', cursive;
            font-size: 4rem;
            font-weight: bold;
            color: #f9d77e;
            text-shadow: 0 0 15px #f9d77e, 0 0 25px rgba(249, 215, 126, 0.7);
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            pointer-events: none; /* Allow clicks to pass through */
        }

        .dice-result.visible {
            opacity: 1;
        }

        /* --- Keyframe Animations --- */
        @keyframes float {
            0% { left: 5%; }
            50% { left: 95%; }
            100% { left: 5%; }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes d20-radiate-glow {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1); opacity: 1; }
            100% { transform: scale(1.2); opacity: 0; }
        }

        /* --- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ --- */
        .site-header {
            width: 100%; max-width: 500px; margin-bottom: 30px;
        }
        .site-header img {
            width: 100%; height: auto; border-radius: 10px; border: 3px solid #c8a45c;
            box-shadow: 0 0 25px rgba(249, 215, 126, 0.4), 0 5px 15px rgba(0, 0, 0, 0.5);
        }
        
        /* --- –í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç --- */
        .prologue {
            background-color: rgba(10, 5, 0, 0.6); border: 1px solid #6e5831; padding: 25px;
            border-radius: 10px; max-width: 800px; margin: 0 auto 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5); backdrop-filter: blur(3px);
        }
        .prologue h1, .prologue h2 { font-family: 'Cinzel Decorative', cursive; text-align: center; text-shadow: 0 0 8px #f9d77e; }
        .prologue h1 { font-size: 2.5rem; margin-bottom: 5px; }
        .prologue h2 { font-size: 1.5rem; font-style: italic; color: #c8a45c; margin-bottom: 20px; }
        .prologue p { font-size: 1.1rem; line-height: 1.7; text-align: justify; margin-bottom: 20px; }
        .prologue ul { list-style-type: none; padding-left: 0; }
        .prologue li { font-size: 1.1rem; line-height: 1.8; }

        /* --- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç (–∫–∞—Ä—Ç–∞) --- */
        .main-content {
            display: flex; flex-direction: column; align-items: center;
            justify-content: center; flex-grow: 1; width: 100%;
        }
        .card-container {
            position: relative; perspective: 1500px; margin-bottom: 25px;
        }
        .card {
            width: 280px; height: 400px; position: relative; cursor: pointer;
            transform-style: preserve-3d; transition: transform 1.5s, box-shadow 0.3s;
        }
        .card:not(.is-flipped):hover {
            transform: translateY(-15px) scale(1.05); box-shadow: 0 15px 40px rgba(255, 223, 150, 0.3);
        }
        .card.is-flipped { transform: rotateY(180deg); }
        .card-face {
            position: absolute; width: 100%; height: 100%;
            -webkit-backface-visibility: hidden; backface-visibility: hidden;
            background-size: cover; background-position: center;
            border-radius: 15px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            border: 2px solid #c8a45c;
        }
        .card-back { background-image: url('static/backcard.jpg'); }
        .card-front { background-color: #1a1a1a; transform: rotateY(180deg); }
        .card-glow {
            position: absolute; top: 50%; left: 50%;
            width: 150%; height: 150%;
            background: radial-gradient(circle, rgba(255, 223, 150, 0.6) 0%, rgba(255, 223, 150, 0) 70%);
            transform: translate(-50%, -50%) scale(0.5); z-index: -1;
            border-radius: 50%; opacity: 0; pointer-events: none;
        }
        .card-container.glow-active .card-glow { animation: radiate-glow 1.5s ease-out forwards; }
        @keyframes radiate-glow {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1.2); opacity: 0; }
        }
        .character-name {
            font-family: 'Cinzel Decorative', cursive; font-size: 2.5rem; font-weight: 700;
            text-shadow: 0 0 10px #f9d77e, 0 0 20px #f9d77e; opacity: 0;
            transform: translateY(20px); transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            text-align: center; height: 45px;
        }
        .character-name.visible { opacity: 1; transform: translateY(0); }

        /* --- –§—É—Ç–µ—Ä (–ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é) --- */
        .site-footer {
            background-color: rgba(10, 5, 0, 0.6); border: 1px solid #6e5831; padding: 25px;
            border-radius: 10px; max-width: 800px; width: 100%;
            margin: 40px auto; 
            box-shadow: 0 0 20px rgba(0,0,0,0.5); backdrop-filter: blur(3px); text-align: center;
        }
        .site-footer h3 { font-family: 'Cinzel Decorative', cursive; font-size: 1.8rem; color: #e4b967; text-shadow: 0 0 5px #f9d77e; text-transform: uppercase; margin-bottom: 20px; }
        .site-footer p { font-size: 1.1rem; line-height: 1.8; margin-bottom: 15px; }
        .site-footer .final-words { font-family: 'Cinzel Decorative', cursive; font-style: italic; font-size: 1.2rem; margin-top: 25px; color: #f0e6d2; opacity: 0.9; }
        
        /* --- –°–µ–∫—Ü–∏—è "–ß—Ç–æ –Ω–æ–≤–æ–≥–æ?" --- */
        .features-section {
            background-color: rgba(10, 5, 0, 0.6); border: 1px solid #6e5831; padding: 25px;
            border-radius: 10px; max-width: 800px; width: 100%;
            margin: 0 auto 20px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5); backdrop-filter: blur(3px);
        }
        .features-section .section-title {
            font-family: 'Cinzel Decorative', cursive; text-align: center;
            font-size: 2.2rem; margin-bottom: 25px; text-shadow: 0 0 8px #f9d77e;
        }
        .features-section h4 {
            font-family: 'Cinzel Decorative', cursive; font-size: 1.5rem;
            color: #c8a45c; margin-bottom: 10px;
        }
        .features-section p {
            font-size: 1.1rem; line-height: 1.6; margin-bottom: 20px;
        }
        .features-section img {
            width: 100%; height: auto; border-radius: 8px;
            border: 1px solid #6e5831; margin-top: 10px;
        }
        
        /* --- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞ --- */
        .top-nav {
            position: absolute; top: 20px; right: 20px; z-index: 1000;
            display: flex; gap: 10px;
        }
        .nav-button {
            background-color: rgba(10, 5, 0, 0.7);
            border: 2px solid #c8a45c;
            color: #f0e6d2;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-family: 'Cinzel Decorative', cursive;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(249, 215, 126, 0.3);
        }
        .nav-button:hover {
            background-color: #c8a45c;
            color: #1a1a1a;
            box-shadow: 0 0 25px rgba(249, 215, 126, 0.7);
            transform: translateY(-3px);
        }

        /* --- –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ --- */
        @media (min-width: 769px) { .card { width: 330px; height: 472px; } }
        @media (max-width: 840px) { .prologue, .features-section, .site-footer { padding: 20px; } }
        @media (max-width: 600px) {
            body {
                padding: 15px;
                display: flex;
                flex-direction: column;
            }
            .top-nav {
                order: -1; /* Move to top */
                position: static;
                width: 100%;
                margin-bottom: 20px;
            }
            .nav-button {
                display: block;
                text-align: center;
                padding: 12px;
                font-size: 1.1rem;
                width: 100%;
                margin-bottom: 10px;
            }
            .site-header { order: 0; } /* Comes after nav */

            .prologue h1, .features-section .section-title { font-size: 2rem; }
            .prologue h2 { font-size: 1.2rem; }
            .prologue p, .prologue li, .features-section p { font-size: 1rem; }
            .features-section h4 { font-size: 1.3rem; }
            /* –û—Ç–∫–∞—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –∏ —à–∏—Ä–∏–Ω–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
            .card { width: 240px; height: 343px; }
            .character-name { font-size: 2rem; height: 35px; }
            .site-footer h3 { font-size: 1.5rem; }
            .site-footer p { font-size: 1rem; }
            .site-footer .final-words { font-size: 1.1rem; }
        }

    </style>
</head>
<body>
    <div class="d20-container" id="d20-container">
        <img src="static/d20.png" alt="D20 Dice" class="d20-dice" id="d20-dice">
        <div class="d20-glow" id="d20-glow"></div>
    </div>
    <div class="dice-result" id="dice-result"></div>

    <div class="top-nav">
        <a href="games.html" class="nav-button">–¢–µ–∫—É—â–∏–µ –∏–≥—Ä—ã</a>
        <a href="characters.html" class="nav-button">–ü–µ—Ä—Å–æ–Ω–∞–∂–∏</a>
    </div>

    <header class="site-header">
        <img src="static/top.jpg" alt="–§—ç–Ω—Ç–µ–∑–∏ –º–∏—Ä">
    </header>

    <!-- –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ù–´–ô –ë–õ–û–ö -->
    <div class="prologue">
        <h1>–ö–£–õ–¨–¢ –•–ê–û–°–ê</h1>
        <h2>–ë–µ–∑—É–º–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç —Å—è...</h2>
        <p>–ö–æ–≥–¥–∞ –∑–≤—ë–∑–¥—ã —Å—Ö–æ–¥—è—Ç—Å—è –≤ –∑–ª–æ–≤–µ—â–µ–º –ø–æ—Ä—è–¥–∫–µ, –ì—Ä–µ–π–≤–∏–Ω–¥ –æ–±—ä—è–≤–ª—è–µ—Ç –∏–≥—Ä—É. –®—ë–ø–æ—Ç –¥—Ä–µ–≤–Ω–∏—Ö –±–æ–≥–æ–≤ —Å–ª—ã—à–µ–Ω –¥–∞–∂–µ –≤ –∑–∞–±—ã—Ç—ã—Ö –∑–µ–º–ª—è—Ö.<br>
        –¢–µ, –∫—Ç–æ –±—ã–ª –∏–∑–≥–Ω–∞–Ω ‚Äî –≤–µ—Ä–Ω—É–ª–∏—Å—å. –¢–µ, –∫—Ç–æ –∑–∞–±—ã–ª, ‚Äî –≤—Å–ø–æ–º–Ω–∏–ª–∏.<br>
        –ò —Ç–µ, –∫—Ç–æ –±—ã–ª –Ω–∏–∫–µ–º... —Ç–µ–ø–µ—Ä—å –≤—Å—Ç–∞–ª–∏ —É –ø–æ—Ä–æ–≥–∞ –º–∏—Ä–∞, —á—Ç–æ–±—ã –ø–æ–∑–Ω–∞—Ç—å –•–∞–æ—Å.</p>
        <ul>
            <li>üî∏ –ö–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö ‚Äî –ø—Ä–æ–∫–ª—è—Ç, –æ—Ç–º–µ—á–µ–Ω, –∏–∑–±—Ä–∞–Ω.</li>
            <li>üî∏ –£ –∫–∞–∂–¥–æ–≥–æ ‚Äî —Å–≤–æ—è –±–æ–ª—å, —Å–≤–æ—è —Ü–µ–ª—å, —Å–≤–æ—è —Ç—å–º–∞.</li>
            <li>üî∏ –í–º–µ—Å—Ç–µ –æ–Ω–∏ ‚Äî —É–≥—Ä–æ–∑–∞ –Ω–µ—Ä–≤–∞–º –°–µ—Ä—ë–∂–∏</li>
        </ul>
    </div>

    <main class="main-content">
        <div class="card-container" id="card-container">
            <div class="card" id="interactive-card">
                <div class="card-face card-back"></div>
                <div class="card-face card-front"></div>
            </div>
            <div class="card-glow"></div>
        </div>
        <h2 class="character-name" id="character-name"></h2>
    </main>
    
    <footer class="site-footer">
        <h3>–í–ù–ò–ú–ê–ù–ò–ï: –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è –∫–∞–º–ø–∞–Ω–∏—è D&D.</h3>
        <p>üìú –ì–µ–π–º –º–∞—Å—Ç–µ—Ä ‚Äî –°–µ—Ä—ë–∂–∞ –ì—Ä–µ–π–≤–∏–Ω–¥.</p>
        <p>üì© –ü–∏—à–∏ –≤ –ª–∏—á–∫—É. –ü—Ä–∏–¥—É–º–∞–µ–º —Ç–≤–æ–µ–≥–æ –ø–µ—Ä—Å–∞ –∏ –Ω–∞–ø–∏—à–µ–º, –∫–∞–∫–æ–≥–æ —Ö—Ä–µ–Ω–∞ —Ç—ã –¥–µ–ª–∞–µ—à—å –≤ –∫—É–ª—å—Ç–µ. –ü–æ–¥–±–µ—Ä—ë–º —Ç–µ–±–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –ø—Ä–æ–∫–ª—è—Ç–∏–µ.</p>
        <p class="final-words">–ü–æ–¥–≥–æ—Ç–æ–≤—å—Å—è. –≠—Ç–æ –±—É–¥–µ—Ç –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏–≥—Ä–∞. –≠—Ç–æ –±—É–¥–µ—Ç... –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–µ –º–∏—Ä–∞.</p>
    </footer>
    
    <section class="features-section">
        <h2 class="section-title">–ß–¢–û –ù–û–í–û–ì–û?</h2>
        <div>
            <h4>1. –ò–ì–†–û–í–´–ï –ö–ê–†–¢–û–ß–ö–ò</h4>
            <p>–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –≤–∏–¥–µ –∏–≥—Ä–∞–ª—å–Ω—ã—Ö –∫–∞—Ä—Ç</p>
            <img src="static/card_types.png" alt="–ü—Ä–∏–º–µ—Ä—ã –∏–≥—Ä–æ–≤—ã—Ö –∫–∞—Ä—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤">
        </div>
    </section>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const characters = [
                { id: 'Vagon',   name: '–¢–∏—Ä–∏–∞–Ω' }, { id: 'Nara',    name: '–≠–π—Ä–∞' },
                { id: 'Tosha',   name: '–≠–∫–∫–æ' }, { id: 'Yulya',   name: '–°–∏—ç–ª—å' },
                { id: 'Elvina',  name: '–°–µ–ª–∞—Ä–∏—è' }, { id: 'Marykat', name: '–ù–æ–∫—Ç—é—Ä–Ω' },
                { id: 'Emin',    name: '–•–∞–≥–∞–ª–ª' }, { id: 'Mi',      name: '–ë—É—Ä–µ–≤–µ—Ä—Å–∞' }
            ];

            const cardContainer = document.getElementById('card-container');
            const card = document.getElementById('interactive-card');
            const cardFront = card.querySelector('.card-front');
            const characterNameElement = document.getElementById('character-name');
            
            let isFlipped = false, isAnimating = false, currentCharacterIndex = -1;

            card.addEventListener('click', () => {
                if (isAnimating) return;
                isAnimating = true;
                const animationDuration = 1500;

                if (isFlipped) {
                    characterNameElement.classList.remove('visible');
                    card.classList.remove('is-flipped');
                    isFlipped = false;
                } else {
                    cardContainer.classList.add('glow-active');
                    currentCharacterIndex = (currentCharacterIndex + 1) % characters.length;
                    const nextCharacter = characters[currentCharacterIndex];

                    cardFront.style.backgroundImage = `url('static/${nextCharacter.id}.jpg')`;
                    characterNameElement.textContent = nextCharacter.name;
                    
                    card.classList.add('is-flipped');
                    isFlipped = true;

                    setTimeout(() => {
                        characterNameElement.classList.add('visible');
                        cardContainer.classList.remove('glow-active');
                    }, animationDuration);
                }
                setTimeout(() => { isAnimating = false; }, animationDuration);
            });

            // D20 Dice Logic
            const d20Container = document.getElementById('d20-container');
            const d20Dice = document.getElementById('d20-dice');
            const d20Glow = document.getElementById('d20-glow');
            const diceResult = document.getElementById('dice-result');

            d20Container.addEventListener('click', (event) => {
                if (d20Dice.style.opacity === '0') return; // Prevent multiple clicks during animation

                const clickX = event.clientX;
                const clickY = event.clientY;

                // Hide dice, show glow
                d20Dice.style.opacity = '0';
                d20Glow.classList.add('active');

                // Random number generation (1-20)
                const roll = Math.floor(Math.random() * 20) + 1;
                let displayText = roll;
                if (roll === 1) {
                    displayText = '–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ù–ï–£–î–ê–ß–ê';
                } else if (roll === 20) {
                    displayText = '–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –£–î–ê–ß–ê';
                }
                diceResult.textContent = displayText;

                // Position result at dice location
                const d20Rect = d20Container.getBoundingClientRect();
                diceResult.style.left = `${d20Rect.left + d20Rect.width / 2}px`;
                diceResult.style.top = `${d20Rect.top + d20Rect.height / 2}px`;
                diceResult.style.transform = 'translate(-50%, -50%)';

                // Show result after glow animation starts
                setTimeout(() => {
                    diceResult.classList.add('visible');
                }, 200); // Short delay to sync with glow

                // Hide result and show dice again after 3 seconds
                setTimeout(() => {
                    diceResult.classList.remove('visible');
                    d20Glow.classList.remove('active');
                    d20Dice.style.opacity = '1';
                }, 3000);
            });
        });
    </script>
</body>
</html>
